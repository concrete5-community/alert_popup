(function(){"use strict";const o=[];function l(e){return typeof e=="object"&&e!==null&&typeof e.jquery=="string"&&typeof e.on=="function"}function n(e){let t=null;if(e instanceof HTMLElement)t=e;else if(typeof e=="string"){if(e=e.replace(/^\s*#|\s+/,""),e==="")throw new Error("Empty selector string provided");const s=document.querySelectorAll(`#${e}`);switch(s.length){case 0:throw new Error(`No elements found for selector ${e}`);case 1:t=s[0];break;default:throw new Error(`Multiple elements found for selector ${e}`)}}else if(l(e))switch(e.length){case 0:throw new Error("The jQuery object doesn't contain any element");case 1:t=e[0];break;default:throw new Error("The jQuery object contains more than one elements")}else throw new Error("Invalid query type "+typeof e);if(t.tagName!=="DIALOG")throw new Error("Element is not a dialog, but a "+t.tagName);return t}function i(){const e=document.createElement("div");return e.className="ccm-alertpopup-dialog-close",e.style.position="absolute",e.style.display="inline-block",e.style.top="0",e.style.right="0",e.style.color="white",e.style.backgroundColor="red",e.style.border="none",e.style.borderRadius="0",e.style.fontWeight="bold",e.style.cursor="pointer",e.style.margin="0",e.style.textAlign="center",e.style.padding="0px 2px 2px 2px",e.style.margin="0",e.innerText="\u{1F5D9}",e}class r{constructor(t){this.closed=!1,this.el=t,this.clickListener=s=>{s.target===this.el&&this.close()},this.closeListener=s=>{this.close()},this.closeButton=i(),this.el.appendChild(this.closeButton),this.closeButton.addEventListener("click",s=>{s.stopPropagation(),s.preventDefault(),this.close()}),this.el.addEventListener("click",this.clickListener),this.el.addEventListener("close",this.closeListener),this.el.showModal(),o.push(this)}close(){if(this.closed)return;this.closed=!0,this.el.removeEventListener("click",this.clickListener),this.el.removeEventListener("close",this.closeListener),this.el.removeChild(this.closeButton),this.el.close();const t=o.indexOf(this);t>=0&&o.splice(t,1)}}function c(e){let t;try{t=n(e)}catch(s){console.warn(s.message||s);return}new r(t)}function a(){const e=o.pop();return e?(e.close(),!0):(console.warn("No open popups to hide"),!1)}Object.defineProperty(window,"ccmAlertPopup",{writable:!1,value:Object.defineProperties({},{show:{value:c,writable:!1,enumerable:!0,configurable:!1},hide:{value:a,writable:!1,enumerable:!0,configurable:!1}}),enumerable:!0,configurable:!1})})();
