(function(){"use strict";const s=[];function l(e){return typeof e=="object"&&e!==null&&typeof e.jquery=="string"&&typeof e.on=="function"}function r(e){let t=null;if(e instanceof HTMLElement)t=e;else if(typeof e=="string"){if(e=e.replace(/^\s*#|\s+/,""),e==="")throw new Error("Empty selector string provided");const o=document.querySelectorAll(`#${e}`);switch(o.length){case 0:throw new Error(`No elements found for selector ${e}`);case 1:t=o[0];break;default:throw new Error(`Multiple elements found for selector ${e}`)}}else if(l(e))switch(e.length){case 0:throw new Error("The jQuery object doesn't contain any element");case 1:t=e[0];break;default:throw new Error("The jQuery object contains more than one elements")}else throw new Error("Invalid query type "+typeof e);if(t.tagName!=="DIALOG")throw new Error("Element is not a dialog, but a "+t.tagName);return t}function c(){const e=document.createElement("div");return e.className="ccm-alert-popup-close",e.style=["position: absolute","top: 0","right: 0","margin: 0","border: none","width: auto","height: auto","line-height: 1","font-size: 13px","text-align: center","text-decoration: none","display: inline-block","vertical-align: top","color: white","background-color: red","font-weight: bold","cursor: pointer","padding: 1px 2px 4px 4px"].join(";"),e.innerText="\u{1F5D9}",e}class a{constructor(t){this.closed=!1,this.el=t;const o=t.querySelector(".ccm-alert-popup-content");if(!o)throw new Error("No content element found in the dialog");this.contentEl=o,this.el.style.position="fixed",this.el.style.display="block",this.el.style.padding="0",this.el.style.margin="auto";const i="18px";this.contentEl.style.position="relative",this.contentEl.style.margin=`${i} 0 0 0`,this.contentEl.style.padding=`0 ${i} ${i} ${i}`,this.contentEl.style.overflowX="visible",this.contentEl.style.overflowY="auto",this.clickListener=n=>{n.target===this.el&&this.close()},this.closeListener=n=>{this.close()},this.closeButton=c(),this.el.prepend(this.closeButton),this.closeButton.addEventListener("click",n=>{n.stopPropagation(),n.preventDefault(),this.close()}),this.el.addEventListener("click",this.clickListener),this.el.addEventListener("close",this.closeListener),this.el.showModal(),s.push(this)}close(){if(this.closed)return;this.closed=!0,this.el.removeEventListener("click",this.clickListener),this.el.removeEventListener("close",this.closeListener),this.el.removeChild(this.closeButton),this.el.close();const t=s.indexOf(this);t>=0&&s.splice(t,1)}}function h(e){try{const t=r(e);new a(t)}catch(t){console.warn(t.message||t);return}}function p(){const e=s.pop();return e?(e.close(),!0):(console.warn("No open popups to hide"),!1)}Object.defineProperty(window,"ccmAlertPopup",{writable:!1,value:Object.defineProperties({},{show:{value:h,writable:!1,enumerable:!0,configurable:!1},hide:{value:p,writable:!1,enumerable:!0,configurable:!1}}),enumerable:!0,configurable:!1})})();
